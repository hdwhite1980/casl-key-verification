"use strict";(this.webpackChunkCASL=this.webpackChunkCASL||[]).push([[463],{463:(e,t,n)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function i(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}n.r(t),n.d(t,{accessibilityHelper:()=>s});var s=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ariaRoleDescriptions={form:"form",button:"button",link:"link",checkbox:"checkbox",radio:"radio",tab:"tab",tabpanel:"tabpanel",textbox:"textbox",combobox:"combobox",alert:"alert",alertdialog:"alertdialog",dialog:"dialog",progressbar:"progressbar",status:"status",tooltip:"tooltip",navigation:"navigation",main:"main",region:"region"},this.liveRegions={polite:{"aria-live":"polite","aria-atomic":"true"},assertive:{"aria-live":"assertive","aria-atomic":"true"}},this.focusTrapElements=new Set,this.initKeyboardNavigation()},t=[{key:"initKeyboardNavigation",value:function(){var e=this;document.addEventListener("keydown",(function(t){if("Tab"===t.key&&document.body.classList.add("keyboard-navigation"),"Tab"===t.key&&e.focusTrapElements.size>0&&e.manageFocusTrap(t),"Escape"===t.key&&e.focusTrapElements.size>0){var n=Array.from(e.focusTrapElements).pop();n&&"function"==typeof n.onEscape&&n.onEscape(t)}})),document.addEventListener("mousedown",(function(){document.body.classList.remove("keyboard-navigation")})),this.addFocusStyles()}},{key:"addFocusStyles",value:function(){if(!document.getElementById("a11y-focus-styles")){var e=document.createElement("style");e.id="a11y-focus-styles",e.textContent='\n      /* Base focus styles for all browsers */\n      :focus {\n        outline: 2px solid transparent;\n        outline-offset: 2px;\n      }\n      \n      /* Enhanced focus styles for keyboard navigation */\n      .keyboard-navigation *:focus-visible,\n      .keyboard-navigation *:focus {\n        outline: 3px solid #4285F4 !important;\n        outline-offset: 3px !important;\n        border-radius: 3px;\n        box-shadow: 0 0 0 2px white;\n      }\n      \n      /* High contrast mode focus styles */\n      @media (forced-colors: active) {\n        .keyboard-navigation *:focus-visible,\n        .keyboard-navigation *:focus {\n          outline: 3px solid CanvasText !important; \n          outline-offset: 3px !important;\n        }\n      }\n      \n      /* Focus styles for form elements */\n      .keyboard-navigation button:focus,\n      .keyboard-navigation [role="button"]:focus,\n      .keyboard-navigation a:focus,\n      .keyboard-navigation input:focus,\n      .keyboard-navigation select:focus,\n      .keyboard-navigation textarea:focus {\n        border-color: #4285F4 !important;\n        box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.4) !important;\n      }\n      \n      /* Enhanced focus styles for checkboxes and radios */\n      .keyboard-navigation .checkbox-container input:focus + label,\n      .keyboard-navigation input[type="checkbox"]:focus + label,\n      .keyboard-navigation input[type="radio"]:focus + label {\n        outline: 2px solid #4285F4 !important;\n        outline-offset: 2px;\n        border-radius: 2px;\n      }\n      \n      /* Skip link styles */\n      .skip-to-content {\n        position: absolute;\n        top: -5rem;\n        left: 0;\n        padding: 1rem;\n        background: #4285F4;\n        color: white;\n        z-index: 100;\n        opacity: 0;\n        text-decoration: none;\n        font-weight: bold;\n        transition: top 0.2s;\n      }\n      \n      .skip-to-content:focus {\n        top: 0;\n        opacity: 1;\n      }\n      \n      @media (prefers-reduced-motion: reduce) {\n        .skip-to-content {\n          transition: none;\n        }\n        \n        /* Remove all animations and transitions */\n        *, *::before, *::after {\n          animation-duration: 0.001ms !important;\n          animation-iteration-count: 1 !important;\n          transition-duration: 0.001ms !important;\n          scroll-behavior: auto !important;\n        }\n      }\n    ',document.head.appendChild(e)}}},{key:"enhanceHtml",value:function(e){return e=this.enhanceFormElements(e),e=this.enhanceRoles(e),e=this.enhanceLabels(e),this.enhanceAutocomplete(e)}},{key:"enhanceFormElements",value:function(e){return e=(e=(e=e.replace(/<input([^>]*) required([^>]*)>/g,'<input$1 required$2 aria-required="true">')).replace(/<input([^>]*) class="([^"]*error[^"]*)"([^>]*)>/g,'<input$1 class="$2"$3 aria-invalid="true">')).replace(/aria-describedby="([^"]+)"/g,(function(t,n){return e.includes('id="'.concat(n,'"'))?t:""}))}},{key:"enhanceRoles",value:function(e){return(e=e.replace(/<div([^>]*) class="([^"]*error[^"]*)"([^>]*)>/g,'<div$1 class="$2"$3 role="alert">')).replace(/<div([^>]*) class="([^"]*success[^"]*)"([^>]*)>/g,'<div$1 class="$2"$3 role="status">')}},{key:"enhanceLabels",value:function(e){return e.replace(/<button([^>]*)>\s*<\/button>/g,(function(e,t){return t.includes("aria-label")?e:"<button".concat(t,' aria-label="Button"></button>')}))}},{key:"enhanceAutocomplete",value:function(e){return[{selector:'name="name"',value:"name"},{selector:'name="email"',value:"email"},{selector:'name="phone"',value:"tel"},{selector:'name="address"',value:"street-address"},{selector:'name="zipCode"',value:"postal-code"}].forEach((function(t){var n=new RegExp("<input([^>]*) ".concat(t.selector,"([^>]*)>"),"g");e=e.replace(n,(function(e,n,o){return e.includes("autocomplete=")?e:"<input".concat(n," ").concat(t.selector).concat(o,' autocomplete="').concat(t.value,'">')}))})),e}},{key:"checkColorContrast",value:function(e,t){var n=function(e){var t,n,o;if(e.startsWith("#")){var r=e.replace("#",""),i=r.length;if(3===i)t=parseInt(r[0]+r[0],16)/255,n=parseInt(r[1]+r[1],16)/255,o=parseInt(r[2]+r[2],16)/255;else{if(6!==i)return null;t=parseInt(r.substring(0,2),16)/255,n=parseInt(r.substring(2,4),16)/255,o=parseInt(r.substring(4,6),16)/255}}else{if(!e.startsWith("rgb"))return null;var s=e.match(/\d+/g);if(!s||s.length<3)return null;var l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r,i,s=[],l=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s.map((function(e){return parseInt(e,10)/255})).slice(0,3),3);t=l[0],n=l[1],o=l[2]}var u=function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)};return.2126*(t=u(t))+.7152*(n=u(n))+.0722*u(o)},o=n(e),r=n(t);if(null===o||null===r)return null;var i=(Math.max(o,r)+.05)/(Math.min(o,r)+.05);return{ratio:i,isLargeText:!1,meetsAA:i>=4.5,meetsAALarge:i>=3,meetsAAA:i>=7,meetsAAALarge:i>=4.5}}},{key:"createFocusTrap",value:function(e,t){var n=this,o=this.getFocusableElements(e);if(0===o.length)return console.warn("No focusable elements found for focus trap"),null;var a=document.activeElement;o[0].focus();var r={element:e,focusableElements:o,previouslyFocused:a,onEscape:t,release:function(){n.focusTrapElements.delete(r),a&&a.focus&&a.focus()}};return this.focusTrapElements.add(r),r}},{key:"manageFocusTrap",value:function(e){var t=Array.from(this.focusTrapElements).pop();if(t){var n=t.element,o=t.focusableElements;if(n.contains(e.target)){var a=o[0],r=o[o.length-1];e.shiftKey&&document.activeElement===a?(e.preventDefault(),r.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),a.focus())}}}},{key:"getFocusableElements",value:function(e){var t=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(",");return e.shadowRoot?Array.from(e.shadowRoot.querySelectorAll(t)):Array.from(e.querySelectorAll(t))}},{key:"createLiveRegion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"polite",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("div");return n.id=t||"live-region-".concat(Date.now()),n.setAttribute("aria-live",e),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-relevant","additions text"),n.style.position="absolute",n.style.width="1px",n.style.height="1px",n.style.margin="-1px",n.style.padding="0",n.style.overflow="hidden",n.style.clip="rect(0, 0, 0, 0)",n.style.whiteSpace="nowrap",n.style.border="0",n}},{key:"announce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite",n=document.getElementById("a11y-live-".concat(t));n||(n=this.createLiveRegion(t,"a11y-live-".concat(t)),document.body.appendChild(n)),n.textContent="",setTimeout((function(){n.textContent=e}),50)}},{key:"addSkipLink",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main-content",t=document.querySelector(".skip-to-content");if(t)return t;(t=document.createElement("a")).href="#".concat(e),t.className="skip-to-content",t.textContent="Skip to main content",document.body.insertBefore(t,document.body.firstChild);var n=document.getElementById(e);return n?n.getAttribute("tabindex")||n.setAttribute("tabindex","-1"):console.warn("Skip link target #".concat(e," not found")),t}},{key:"checkAccessibility",value:function(e){var t=this,n=[];e.querySelectorAll("input, select, textarea").forEach((function(t){var o=t.id;o?e.querySelector('label[for="'.concat(o,'"]'))||t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby")||n.push({element:t,issue:"Form control missing associated label"}):n.push({element:t,issue:"Form control missing ID attribute"});var a=t.getAttribute("name");"text"!==t.type&&"email"!==t.type&&"tel"!==t.type||!t.hasAttribute("autocomplete")&&a&&n.push({element:t,issue:'Input field "'.concat(a,'" missing autocomplete attribute')})})),e.querySelectorAll("img").forEach((function(e){e.hasAttribute("alt")||n.push({element:e,issue:"Image missing alt attribute"})})),e.querySelectorAll('button, [role="button"]').forEach((function(e){e.textContent.trim()||e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")||n.push({element:e,issue:"Button missing accessible name"})})),e.querySelectorAll("*:not(img):not(svg):not(canvas)").forEach((function(e){var o=window.getComputedStyle(e),a=o.color,r=o.backgroundColor;if(r&&"rgba(0, 0, 0, 0)"!==r&&"transparent"!==r){var i=t.checkColorContrast(a,r);i&&!i.meetsAA&&n.push({element:e,issue:"Insufficient color contrast ratio (".concat(i.ratio.toFixed(2),":1)")})}}));var o=Array.from(e.querySelectorAll("h1, h2, h3, h4, h5, h6")),a=0;return o.forEach((function(e,t){var o=parseInt(e.tagName.substring(1),10);t>0&&o>a+1&&n.push({element:e,issue:"Heading level skipped from h".concat(a," to h").concat(o)}),a=o})),{element:e,issues:n,hasIssues:n.length>0}}}],t&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}())}}]);